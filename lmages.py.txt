# generate_images.py
import openai
import os
import requests

# Ø¶Ø¹ Ù‡Ù†Ø§ Ù…ÙØªØ§Ø­ OpenAI Ø§Ù„Ø®Ø§Øµ Ø¨Ùƒ
openai.api_key = "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

sections = ["Ø§Ù„Ù…Ø´Ø§Ø¹Ø±", "ÙÙ‚Ù‡ Ø§Ù„Ù†Ø³Ø§Ø¡", "Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª Ø§Ù„Ø­Ù…ÙŠÙ…ÙŠØ©", "Ø§Ù„ØµØ­Ø©", "Ø§Ù„Ù…Ø¬ØªÙ…Ø¹"]

output_dir = "static/images/sections/"
os.makedirs(output_dir, exist_ok=True)

prompt_template = (
    "Create a professional mobile screen for the '{section}' section of a women's app "
    "'Ø±ÙÙ‚Ù‘Ø© Ø§Ù„Ù†Ø³Ø§Ø¦ÙŠØ© ğŸ’–'. Use soft pinks and light mauve colors, Arabic text with Cairo font, "
    "top bar with heart logo, circular bottom buttons, modern cute UI, front view."
)

for section in sections:
    prompt = prompt_template.format(section=section)
    response = openai.Image.create(
        prompt=prompt,
        n=1,
        size="512x512"
    )
    image_url = response['data'][0]['url']

    img_data = requests.get(image_url).content
    file_path = os.path.join(output_dir, f"{section}.png")
    with open(file_path, "wb") as f:
        f.write(img_data)

    print(f"{section} image saved at {file_path}")
